import{d as I,r as _,w as U,c as d,a as o,t as f,b as N,e as P,F as j,f as B,g as w,o as i,n as Q,h as X,i as Y,j as S,k as H,l as W}from"./vendor-BroLY5Af.js";import{s as G,g as R,a as K,b as E}from"./tmdb-O7QH7REr.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?l.credentials="include":e.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(e){if(e.ep)return;e.ep=!0;const l=n(e);fetch(e.href,l)}})();function J(p,s){let n=null;return function(...t){n&&clearTimeout(n),n=setTimeout(()=>{p(...t),n=null},s)}}const Z={class:"space-y-4"},q=["for"],ee={class:"relative group"},te=["id","value","onKeydown","placeholder"],oe={key:0,class:"absolute z-50 w-full mt-2 glass-effect rounded-xl overflow-hidden"},ne={class:"max-h-64 overflow-y-auto"},se=["onMousedown","onMouseover"],re=["src","alt"],le={key:1,class:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center text-sm"},ae={class:"font-medium"},ie={class:"text-sm text-muted-foreground"},ce=2,V=I({__name:"ActorSearch",props:{label:{},modelValue:{},placeholder:{}},emits:["update:model-value","select"],setup(p,{emit:s}){const n=p,t=s,e=_([]),l=_(!1),r=_(-1),g=["Acting"],c=J(async h=>{if(h.length<2){e.value=[];return}try{const u=await G(h);e.value=u.filter(a=>g.includes(a.known_for_department||"")&&a.profile_path&&a.popularity&&a.popularity>=ce).sort((a,x)=>(x.popularity||0)-(a.popularity||0)).slice(0,5),r.value=-1,l.value=!0}catch(u){console.error("Error fetching suggestions:",u),e.value=[]}},300);function v(h){const u=h.target.value;t("update:model-value",u),c(u)}function y(h){t("update:model-value",h.name),t("select",h),l.value=!1,e.value=[]}function $(){e.value.length&&(r.value=(r.value+1)%e.value.length)}function k(){e.value.length&&(r.value=r.value<=0?e.value.length-1:r.value-1)}function m(){r.value>=0&&e.value[r.value]&&y(e.value[r.value])}function b(){setTimeout(()=>{l.value=!1},200)}return U(()=>n.modelValue,h=>{h||(e.value=[],l.value=!1)}),(h,u)=>(i(),d("div",Z,[o("label",{for:h.label,class:"block text-lg font-medium text-foreground/90"},f(h.label),9,q),o("div",ee,[o("input",{id:h.label,type:"text",value:h.modelValue,onInput:v,onKeydown:[N(P($,["prevent"]),["down"]),N(P(k,["prevent"]),["up"]),N(P(m,["prevent"]),["enter"])],onBlur:b,placeholder:h.placeholder,class:"w-full h-14 px-5 bg-secondary/30 rounded-xl text-lg text-foreground placeholder:text-muted-foreground focus:outline-none border border-white/[0.05] group-hover:border-primary/50 focus:border-primary transition-all duration-300 glass-effect"},null,40,te),l.value&&e.value.length>0?(i(),d("div",oe,[o("div",ne,[(i(!0),d(j,null,B(e.value,(a,x)=>(i(),d("div",{key:a.id,onMousedown:z=>y(a),onMouseover:z=>r.value=x,class:Q(["px-5 py-4 cursor-pointer flex items-center gap-3 transition-colors",r.value===x?"bg-primary/20":"hover:bg-primary/10"])},[a.profile_path?(i(),d("img",{key:0,src:`https://image.tmdb.org/t/p/w45${a.profile_path}`,alt:a.name,class:"w-8 h-8 rounded-full object-cover"},null,8,re)):(i(),d("div",le,f(a.name.charAt(0)),1)),o("div",null,[o("div",ae,f(a.name),1),o("div",ie,f(a.known_for_department),1)])],42,se))),128))])])):w("",!0)])]))}}),de={key:0,class:"flex items-center justify-center p-12"},ue={key:1,class:"space-y-6"},pe={class:"space-y-4"},he=["href"],fe={class:"flex items-center gap-4"},ve=["src","alt"],me={key:1,class:"w-24 h-24 rounded-lg bg-secondary flex items-center justify-center text-3xl"},ge={class:"flex-1"},_e={class:"flex items-center gap-3"},be={class:"text-2xl font-bold group-hover:text-primary transition-colors"},we={class:"text-muted-foreground mt-1"},ye=["href"],xe={class:"flex gap-3 items-center"},$e=["src","alt"],ke={key:1,class:"w-16 h-24 rounded bg-secondary flex items-center justify-center text-sm"},Me={class:"flex-1"},Ae={class:"flex items-center gap-3"},Ce={class:"text-lg font-medium leading-tight group-hover:text-primary transition-colors"},Ie={class:"mt-1 text-sm text-muted-foreground"},Ne={key:2,class:"flex justify-center py-2"},Pe=I({__name:"ConnectionPath",props:{path:{},isLoading:{type:Boolean}},setup(p){return(s,n)=>s.isLoading?(i(),d("div",de,n[0]||(n[0]=[o("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary"},null,-1)]))):s.path.length?(i(),d("div",ue,[n[4]||(n[4]=o("h2",{class:"text-3xl font-bold text-center gradient-text"},"Connection Found!",-1)),o("div",pe,[(i(!0),d(j,null,B(s.path,(t,e)=>(i(),d(j,{key:t.id},["name"in t?(i(),d("a",{key:0,href:t.imdb_url,target:"_blank",rel:"noopener noreferrer",class:"block glass-effect rounded-xl p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_8px_40px_0_rgba(124,58,237,0.1)]"},[o("div",fe,[t.profile_path?(i(),d("img",{key:0,src:`https://image.tmdb.org/t/p/w185${t.profile_path}`,alt:t.name,class:"w-24 h-24 rounded-lg object-cover"},null,8,ve)):(i(),d("div",me,f(t.name.charAt(0)),1)),o("div",ge,[o("div",_e,[o("h3",be,f(t.name),1),n[1]||(n[1]=o("span",{class:"px-2 py-1 bg-[#f3ce13] text-black rounded font-medium text-xs"},"IMDb",-1))]),o("p",we,f(t.known_for_department),1)])])],8,he)):(i(),d("a",{key:1,href:t.imdb_url,target:"_blank",rel:"noopener noreferrer",class:"block glass-effect rounded-lg p-3 relative overflow-hidden group opacity-90 hover:opacity-100 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_8px_40px_0_rgba(124,58,237,0.1)]"},[o("div",xe,[t.poster_path?(i(),d("img",{key:0,src:`https://image.tmdb.org/t/p/w92${t.poster_path}`,alt:t.title,class:"w-16 h-24 rounded shadow-lg object-cover"},null,8,$e)):(i(),d("div",ke,f(t.title.charAt(0)),1)),o("div",Me,[o("div",Ae,[o("h3",Ce,f(t.title),1),n[2]||(n[2]=o("span",{class:"px-2 py-1 bg-[#f3ce13] text-black rounded font-medium text-xs whitespace-nowrap"},"IMDb",-1))]),o("div",Ie,f(new Date(t.release_date).getFullYear()),1)])])],8,ye)),e<s.path.length-1?(i(),d("div",Ne,n[3]||(n[3]=[o("div",{class:"w-0.5 h-4 bg-primary/30"},null,-1)]))):w("",!0)],64))),128))])])):w("",!0)}}),Se={key:0,class:"fixed inset-0 flex items-center justify-center z-50 bg-background/80 backdrop-blur-sm"},je={class:"glass-effect p-8 rounded-xl max-w-lg w-full mx-4"},Le={class:"relative aspect-video mb-6 overflow-hidden rounded-lg"},Ee=["src","alt"],Ve={key:1,class:"w-full h-full bg-secondary flex items-center justify-center"},De={class:"text-4xl"},Fe={class:"text-center"},Oe={class:"text-xl font-semibold mb-2"},Te={class:"text-muted-foreground"},Be={class:"mt-6 h-2 bg-secondary/30 rounded-full overflow-hidden"},Re=I({__name:"SearchProgress",props:{currentMovie:{},progress:{}},setup(p){return(s,n)=>s.currentMovie?(i(),d("div",Se,[o("div",je,[n[1]||(n[1]=o("div",{class:"text-center mb-6"},[o("h3",{class:"text-2xl font-bold mb-2"},"Searching through movies..."),o("p",{class:"text-muted-foreground"},"Analyzing connections between actors")],-1)),o("div",Le,[s.currentMovie.poster_path?(i(),d("img",{key:0,src:`https://image.tmdb.org/t/p/w500${s.currentMovie.poster_path}`,alt:s.currentMovie.title,class:"w-full h-full object-cover"},null,8,Ee)):(i(),d("div",Ve,[o("span",De,f(s.currentMovie.title.charAt(0)),1)])),n[0]||(n[0]=o("div",{class:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"},null,-1))]),o("div",Fe,[o("h4",Oe,f(s.currentMovie.title),1),o("p",Te,f(new Date(s.currentMovie.release_date).getFullYear()),1)]),o("div",Be,[o("div",{class:"h-full bg-primary transition-all duration-300",style:X({width:`${s.progress}%`})},null,4)])])])):w("",!0)}}),M=20,Ke=100,ze=100,Ue=30,A=new Map,C=new Map;let L=null;function D(p){L=p}async function Qe(p,s){var r,g;console.log(`Starting bidirectional path search between ${p.name} and ${s.name}`);const n=[{node:p,path:[p],depth:0}],t=[{node:s,path:[s],depth:0}],e=new Map,l=new Map;for(e.set(`actor-${p.id}`,n[0]),l.set(`actor-${s.id}`,t[0]);n.length>0&&t.length>0;){if(n[0].depth<=M){const c=await F(n,e,l,"forward");if(c){console.log("Found intersection in forward search!");const v=O(c.forwardNode,c.backwardNode);if(await T(v))return v}}if(t[0].depth<=M){const c=await F(t,l,e,"backward");if(c){console.log("Found intersection in backward search!");const v=O(c.backwardNode,c.forwardNode);if(await T(v))return v}}if(n.length===0&&t.length===0||((r=n[0])==null?void 0:r.depth)>M&&((g=t[0])==null?void 0:g.depth)>M)return console.log("No path found within depth limit"),[]}return console.log("No path found"),[]}async function F(p,s,n,t){const e=p.shift();if(!e)return null;if(console.log(`Expanding ${t} frontier at depth ${e.depth} for ${"name"in e.node?e.node.name:e.node.title}`),"name"in e.node){const l=e.node;try{let r=A.get(l.id);r||(r=await R(l.id),A.set(l.id,r),console.log(`Fetched ${r.length} movies for ${l.name}`));const g=r.filter(c=>c.vote_count>=Ke).sort((c,v)=>(v.vote_count||0)-(c.vote_count||0)).slice(0,ze);for(const c of g){L&&(L(c),await new Promise(y=>setTimeout(y,200)));const v=`movie-${c.id}`;if(!s.has(v)){const y={node:c,path:t==="forward"?[...e.path,c]:[c,...e.path],depth:e.depth+1};s.set(v,y);let $=C.get(c.id);$||($=await K(c.id),C.set(c.id,$));const k=$.filter(m=>m.known_for_department==="Acting").sort((m,b)=>(b.popularity||0)-(m.popularity||0)).slice(0,Ue);for(const m of k){const b=`actor-${m.id}`;if(n.has(b)){const h=n.get(b),u={node:m,path:t==="forward"?[...e.path,c,m]:[m,c,...e.path],depth:e.depth+2};return{forwardNode:t==="forward"?u:h,backwardNode:t==="forward"?h:u}}if(!s.has(b)){const h={node:m,path:t==="forward"?[...e.path,c,m]:[m,c,...e.path],depth:e.depth+2};s.set(b,h),p.push(h)}}}}}catch(r){console.error(`Error processing actor ${l.name}:`,r)}}return null}function O(p,s){const n=p.path,t=s.path,e=("name"in n[n.length-1],n[n.length-1].id),l=t.findIndex(r=>("name"in r,r.id)===e);return[...n,...t.slice(l+1)]}async function T(p){for(let s=0;s<p.length-1;s++){const n=p[s],t=p[s+1];if("name"in n&&"title"in t){if(!(A.get(n.id)||await R(n.id)).some(l=>l.id===t.id))return console.log(`Invalid connection: ${n.name} did not appear in ${t.title}`),!1}else if("title"in n&&"name"in t){if(!(C.get(n.id)||await K(n.id)).some(l=>l.id===t.id))return console.log(`Invalid connection: ${t.name} did not appear in ${n.title}`),!1}else return console.log("Invalid path structure: consecutive actors or movies"),!1}return!0}setInterval(()=>{console.log("Clearing path finding caches"),A.clear(),C.clear()},1e3*60*5);const Xe={class:"min-h-screen bg-background text-foreground p-6"},Ye={class:"max-w-4xl mx-auto"},He={class:"grid gap-8 md:grid-cols-2 mb-8"},We={key:0,class:"grid gap-6 md:grid-cols-2 mb-8"},Ge={key:0,class:"glass-effect rounded-xl p-6"},Je={class:"flex items-center gap-4"},Ze=["src","alt"],qe={key:1,class:"w-24 h-24 rounded-lg bg-secondary flex items-center justify-center text-3xl"},et={class:"flex-1"},tt={class:"flex items-center gap-3"},ot={class:"text-2xl font-bold"},nt=["href"],st={class:"text-muted-foreground mt-1"},rt={key:1,class:"glass-effect rounded-xl p-6"},lt={class:"flex items-center gap-4"},at=["src","alt"],it={key:1,class:"w-24 h-24 rounded-lg bg-secondary flex items-center justify-center text-3xl"},ct={class:"flex-1"},dt={class:"flex items-center gap-3"},ut={class:"text-2xl font-bold"},pt=["href"],ht={class:"text-muted-foreground mt-1"},ft=["disabled"],vt={key:1,class:"text-red-500 text-center mb-8"},mt=I({__name:"App",setup(p){const s=_(""),n=_(""),t=_(null),e=_(null),l=_(!1),r=_(null),g=_([]),c=_(null),v=_(0);let y=0;const $=Y(()=>t.value&&e.value&&!l.value);async function k(u){try{t.value=await E(u.id),r.value=null}catch(a){r.value="Failed to load actor details",console.error(a)}}async function m(u){try{e.value=await E(u.id),r.value=null}catch(a){r.value="Failed to load actor details",console.error(a)}}function b(u){u===1?(t.value=null,s.value=""):(e.value=null,n.value=""),g.value=[],r.value=null}async function h(){if(!(!t.value||!e.value))try{l.value=!0,r.value=null,g.value=[],c.value=null,v.value=0,y=0,D(a=>{c.value=a,y++,v.value=Math.min(y/100*100,100)});const u=await Qe(t.value,e.value);u.length===0?r.value="No connection found between these actors":g.value=u}catch(u){r.value=u instanceof Error?u.message:"An error occurred",console.error("Path finding error:",u)}finally{l.value=!1,c.value=null,D(null)}}return(u,a)=>(i(),d("div",Xe,[o("div",Ye,[a[6]||(a[6]=o("header",{class:"text-center mb-12"},[o("h1",{class:"text-4xl font-bold mb-3 gradient-text"},"Actor Link"),o("p",{class:"text-lg text-muted-foreground"}," Discover how actors are connected through movies ")],-1)),o("div",He,[S(V,{label:"First Actor",modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=x=>s.value=x),placeholder:"e.g., Leonardo DiCaprio",onSelect:k},null,8,["modelValue"]),S(V,{label:"Second Actor",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=x=>n.value=x),placeholder:"e.g., Tom Hanks",onSelect:m},null,8,["modelValue"])]),t.value||e.value?(i(),d("div",We,[t.value?(i(),d("div",Ge,[o("div",Je,[t.value.profile_path?(i(),d("img",{key:0,src:`https://image.tmdb.org/t/p/w185${t.value.profile_path}`,alt:t.value.name,class:"w-24 h-24 rounded-lg object-cover"},null,8,Ze)):(i(),d("div",qe,f(t.value.name.charAt(0)),1)),o("div",et,[o("div",tt,[o("h3",ot,f(t.value.name),1),t.value.imdb_url?(i(),d("a",{key:0,href:t.value.imdb_url,target:"_blank",rel:"noopener noreferrer",class:"px-2 py-1 bg-[#f3ce13] text-black rounded font-medium text-xs hover:bg-[#f3ce13]/90 transition-colors"}," IMDb ",8,nt)):w("",!0)]),o("p",st,f(t.value.known_for_department),1)]),o("button",{onClick:a[2]||(a[2]=x=>b(1)),class:"ml-auto p-2 hover:text-primary transition-colors",title:"Remove actor"},a[4]||(a[4]=[o("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])):w("",!0),e.value?(i(),d("div",rt,[o("div",lt,[e.value.profile_path?(i(),d("img",{key:0,src:`https://image.tmdb.org/t/p/w185${e.value.profile_path}`,alt:e.value.name,class:"w-24 h-24 rounded-lg object-cover"},null,8,at)):(i(),d("div",it,f(e.value.name.charAt(0)),1)),o("div",ct,[o("div",dt,[o("h3",ut,f(e.value.name),1),e.value.imdb_url?(i(),d("a",{key:0,href:e.value.imdb_url,target:"_blank",rel:"noopener noreferrer",class:"px-2 py-1 bg-[#f3ce13] text-black rounded font-medium text-xs hover:bg-[#f3ce13]/90 transition-colors"}," IMDb ",8,pt)):w("",!0)]),o("p",ht,f(e.value.known_for_department),1)]),o("button",{onClick:a[3]||(a[3]=x=>b(2)),class:"ml-auto p-2 hover:text-primary transition-colors",title:"Remove actor"},a[5]||(a[5]=[o("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])):w("",!0)])):w("",!0),o("button",{onClick:h,disabled:!$.value,class:"w-full h-14 bg-primary disabled:opacity-50 disabled:cursor-not-allowed rounded-xl font-medium text-lg hover:bg-primary/90 transition-colors mb-8"},f(l.value?"Searching...":"Find Connection"),9,ft),r.value?(i(),d("div",vt,f(r.value),1)):w("",!0),l.value?(i(),H(Re,{key:2,"current-movie":c.value,progress:v.value},null,8,["current-movie","progress"])):w("",!0),S(Pe,{path:g.value,"is-loading":l.value},null,8,["path","is-loading"])])]))}});W(mt).mount("#app");
//# sourceMappingURL=index-CvKIf9pg.js.map
